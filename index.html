<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>NSG-DAN POC</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/bulma.css">
  <link rel="stylesheet" href="css/poc.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="js/jquery-3.6.0.min.js"></script>
  <script src="js/danclient.js"></script>

  <script>
    if (window.location.host.includes("azurestaticapps.net")) {
      window.location = "https://nsg-dan-poc.data.altinn.no/";
    }
  </script>
</head>
<body class="content">
  <section class="hero is-primary">
    <div class="hero-body">
      <p class="title">Nordic Smart Government & Business Lookup</p>
      <p class="subtitle">data.altinn.no</p>
    </div>
  </section>

  <div class="hero-body">
    <article class="message">
      <div class="message-body">
        <p>This is a proof-of-concept using <a href="https://data.altinn.no">data.altinn.no</a> to acquire information about businesses from national registries, mapping them to the <a href="https://tietomallit.suomi.fi/model/agent3/">Agent-based Nordic Business Data Model</a>.</p>
        <p>Input is a country code and the business identifier, separated by a colon, i.e. NO:991825827. There are ready-made examples below.</p><br></br>
        <p>In order to obtain your own apikey, just register at data.altinn.no and make a subscription to the NSG product - the process is described <a href="https://docs.data.altinn.no/api/#registrere-konto-og-skaffe-api-n%C3%B8kkel">here</a></p>
      </div>
    </article>

    <div class="field is-medium">
      <label class="label">Enter a business-ID</label>
      <div class="control">
        <input class="input is-medium" id="txtBusinessId" type="text" placeholder="0192:991825827">
      </div>
    </div>

    <div class="field is-medium">
      <label class="label">Enter your apikey</label>
      <div class="control">
        <input class="input is-medium" id="txtApiKey" type="text" placeholder="guid">
      </div>
    </div>           

    <div class="control">
      <button class="button is-primary is-medium" id="btnLookup">Look up</button>
    </div>

    <p> 
      <small><em>Examples: 
        <a href="javascript:;" class="js-example">NO:991825827</a>, 
        <a href="javascript:;" class="js-example">NO:992119500</a>,
        <a href="javascript:;" class="js-example">FI:1558237-3</a>,
        <a href="javascript:;" class="js-example">FI:1958763-0</a>,
        <a href="javascript:;" class="js-example">SE:556810-8988</a>,
        <a href="javascript:;" class="js-example">IS:5402696029</a>
      </em></small>
    </p>

    <section class="columns result">
      <div id="js-result-formatted" class="column js-result formatted-result"></div>
      <div id="js-result-source" class="column js-result formatted-source"><pre></pre></div>                
    </section>

    <div id="js-result-error" class="js-result error-result">
      <article class="message is-danger">
        <div class="message-body">
          An error occurred: <span id="js-error-message"></span>
        </div>
      </article>
    </div>

    <div id="js-loader">
      <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>
    </div>

    <!--<div class="diagram">
      <img src="/gfx/diagram.svg" alt="Diagram">
    </div>
  -->
    <footer>
      <h4>Links</h4>
      <ul>
        <li><a href="https://github.com/data-altinn-no/poc-nsg/">Source for this page</a></li>
        <li><a href="https://github.com/data-altinn-no/dan-plugin-nsg/">DAN NSG plugin</a></li>
      </ul>
    </footer>
  </div>
</body>
</html>
